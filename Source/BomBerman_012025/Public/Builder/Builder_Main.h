// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include "CoreMinimal.h"
#include "GameFramework/Actor.h"
#include "Builder_Main.generated.h"

UCLASS()
class BOMBERMAN_012025_API ABuilder_Main : public AActor
{
	GENERATED_BODY()
	
public:	
	// Sets default values for this actor's properties
	ABuilder_Main();

protected:
	// Called when the game starts or when spawned
	virtual void BeginPlay() override;

public:	
	// Called every frame
	virtual void Tick(float DeltaTime) override;


	//Metodos para crear los diferentes mapas
	void ConstrirMapaFacil();
	void ConstrirMapaMedio();
	void ConstrirMapaDificil();

private:

	//Crea el director de nuestro builder
	UPROPERTY(VisibleAnywhere, Category = "Main")
	class ADirector_Builder* DirectorBuilder;

	//Crea el builder especifico para el mapa de bosque
	UPROPERTY(VisibleAnywhere, Category = "Main")
	class ABuilder_Mapa_Bosque* BuilderMapaBosque;

	//Crea el factory que se encargara de crear los enemigos
	UPROPERTY(VisibleAnywhere, Category = "Main")
	class AEnemigo_Factory* FabricaEnemigo;

	//Array del Mapa Facil
	TArray<TArray<int>> ArrayMapa1 = {
									{4,4,4,4,4,4,4,4,4,4,4,4},
									{4,1,0,4,2,0,2,0,4,0,1,4},
									{4,0,0,3,0,0,0,0,3,0,0,4},
									{4,4,3,4,2,0,2,0,4,3,4,4},
									{4,0,0,0,0,0,2,0,1,1,2,4},
									{4,0,2,2,2,0,2,0,2,2,2,4},
									{4,0,0,0,1,0,1,0,0,0,0,4},
									{4,2,2,0,2,0,2,1,2,1,0,4},
									{4,0,0,3,0,0,0,0,3,0,0,4},
									{4,0,0,0,0,0,0,0,0,0,0,4},
									{4,0,0,0,0,0,0,0,0,0,0,4},
									{4,4,4,4,4,4,4,4,4,4,4,4}};

	//Array del Mapa Medio
	TArray<TArray<int>> ArrayMapa2 = {
									{4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4},
									{4,1,0,4,2,0,2,0,4,0,1,4,4,1,0,4,2,0,2,0,4,0,1,4},
									{4,0,0,3,0,0,0,0,3,0,0,4,4,0,0,3,0,0,0,0,3,0,0,4},
									{4,4,3,4,2,0,2,0,4,3,4,4,4,4,3,4,2,0,2,0,4,3,4,4},
									{4,0,0,0,0,0,2,0,1,1,2,4,4,0,0,0,0,0,2,0,1,1,2,4},
									{4,0,2,2,2,0,2,0,2,2,2,0,0,0,2,2,2,0,2,0,2,2,2,4},
									{4,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,4},
									{4,2,2,0,2,0,2,1,2,1,0,4,4,2,2,0,2,0,2,1,2,1,0,4},
									{4,0,0,3,0,0,0,0,3,0,0,4,4,0,0,3,0,0,0,0,3,0,0,4},
									{4,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,4},
									{4,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,4},
									{4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4}};

	//Array del Mapa Dificil
	TArray<TArray<int>> ArrayMapa3 = {
									{4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4},
									{4,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,4},
									{4,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,4},
									{4,0,0,3,0,0,0,0,3,0,0,4,4,0,0,3,0,0,0,0,3,0,0,4},
									{4,2,2,0,2,0,2,1,2,1,0,4,4,2,2,0,2,0,2,1,2,1,0,4},
									{4,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,4},
									{4,0,2,2,2,0,2,0,2,2,2,0,0,0,2,2,2,0,2,0,2,2,2,4},
									{4,0,0,0,0,0,2,0,1,1,2,4,4,0,0,0,0,0,2,0,1,1,2,4},
									{4,4,3,4,2,0,2,0,4,3,4,4,4,4,3,4,2,0,2,0,4,3,4,4},
									{4,0,0,3,0,0,0,0,3,0,0,4,4,0,0,3,0,0,0,0,3,0,0,4},
									{4,1,0,4,2,0,2,0,4,0,1,4,4,1,0,4,2,0,2,0,4,0,1,4},
									{4,4,4,4,4,4,4,4,4,4,0,0,0,4,4,4,4,4,4,4,4,4,4,4},
									{4,4,4,4,4,4,4,4,4,4,0,0,0,4,4,4,4,4,4,4,4,4,4,4},
									{4,1,0,4,2,0,2,0,4,0,1,4,4,1,0,4,2,0,2,0,4,0,1,4},
									{4,0,0,3,0,0,0,0,3,0,0,4,4,0,0,3,0,0,0,0,3,0,0,4},
									{4,4,3,4,2,0,2,0,4,3,4,4,4,4,3,4,2,0,2,0,4,3,4,4},
									{4,0,0,0,0,0,2,0,1,1,2,4,4,0,0,0,0,0,2,0,1,1,2,4},
									{4,0,2,2,2,0,2,0,2,2,2,0,0,0,2,2,2,0,2,0,2,2,2,4},
									{4,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,4},
									{4,2,2,0,2,0,2,1,2,1,0,4,4,2,2,0,2,0,2,1,2,1,0,4},
									{4,0,0,3,0,0,0,0,3,0,0,4,4,0,0,3,0,0,0,0,3,0,0,4},
									{4,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,4},
									{4,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,4},
									{4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4}};
};
